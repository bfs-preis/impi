version: 1.0.{build}
skip_non_tags: true
image: Visual Studio 2017
environment:
  nodejs_version: "LTS"
  GH_TOKEN:
    secure: rL8lPOB7u89JzHvdPLe1xC4XpZ2XIeaZj7mrCPGBuW6KuNEUxKXjDn8PNoBnBcNK
cache:
  - '%APPDATA%\npm-cache'
  - '%USERPROFILE%\.electron'
  - "%LOCALAPPDATA%\\Yarn"
install:
  - ps: Install-Product node $env:nodejs_version
  - npm install npm@latest -g
  - npm install projecto -g
build_script:
 - po i
 - cd electron
 - dir app
 - cd app
 - yarn install --production
 - cd ..
 - .\node_modules\.bin\electron-builder -w
 - cd ..
after_build:
 - 7z a impi-win-build.zip %APPVEYOR_BUILD_FOLDER%\electron\package\*
artifacts:
 - path: .\electron\package\*.exe
 - path: impi-win-build.zip
  